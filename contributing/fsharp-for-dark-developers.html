<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-contributing/fsharp-for-dark-developers" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">F# for Darklang developers | Dark Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.darklang.com/img/favicon.ico"><meta data-rh="true" name="twitter:image" content="https://docs.darklang.com/img/favicon.ico"><meta data-rh="true" property="og:url" content="https://docs.darklang.com/contributing/fsharp-for-dark-developers"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="F# for Darklang developers | Dark Documentation"><meta data-rh="true" name="description" content="This guide aims to introduce you to enough F# contribute to Darklang, assuming"><meta data-rh="true" property="og:description" content="This guide aims to introduce you to enough F# contribute to Darklang, assuming"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.darklang.com/contributing/fsharp-for-dark-developers"><link data-rh="true" rel="alternate" href="https://docs.darklang.com/contributing/fsharp-for-dark-developers" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.darklang.com/contributing/fsharp-for-dark-developers" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QFOZBC0VVL-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159199190-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="Dark Documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.29f14ef9.css">
<script src="/assets/js/runtime~main.66027e12.js" defer="defer"></script>
<script src="/assets/js/main.8b99e3fc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://darklang.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/favicon.ico" alt="Darklang logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon.ico" alt="Darklang logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Darklang</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/introduction">Classic</a><a class="navbar__item navbar__link" href="/next/introduction">Next</a><a class="navbar__item navbar__link" href="/contributing/getting-started">Contributing</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/contributing/getting-started">Your First Contribution</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/contributing/next-contribution">Your Next Contributions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/contributing/fsharp-for-dark-developers">Working in the Dark repo</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/contributing/fsharp-for-dark-developers">F# for Darklang developers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/general-concepts">General concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/tour-of-backend">A tour of the Backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/repo-layout">Repository directory structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/debugging">Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/making-a-pull-request">Making a Pull Request</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributing/new-release-checklist">New-Release Checklist</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><span class="breadcrumbs__link">Working in the Dark repo</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">F# for Darklang developers</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>F# for Darklang developers</h1></header><p>This guide aims to introduce you to enough F# contribute to Darklang, assuming
you already know Darklang.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="some-simple-f-code">Some simple F# code<a href="#some-simple-f-code" class="hash-link" aria-label="Direct link to Some simple F# code" title="Direct link to Some simple F# code">​</a></h2>
<p>Darklang and F# are very similar. Here&#x27;s an example function in F#:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let someFunction (intArgument : int) : string =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  let aString = &quot;myString&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  let anInt = 65 + intArgument</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  let aFloat = 6.72</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  anotherFunction aString anInt aFloat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is a function called <code>someFunction</code>, which takes one argument, an <code>int</code>
called <code>intArgument</code>, and returns a <code>string</code>. Three variables are defined in the
body, first a string, then an int, then a float, and finally we call the
<code>anotherFunction</code> function with all three parameters as arguments.</p>
<p>In Darklang this would be written:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">someFunction</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  intArgument : Int</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ↪ String</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let aString = &quot;myString&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let anInt = 65 + intArgument</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let aFloat = 6.72</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">anotherFunction aString anInt aFloat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="darklang-vs-f">Darklang vs F#<a href="#darklang-vs-f" class="hash-link" aria-label="Direct link to Darklang vs F#" title="Direct link to Darklang vs F#">​</a></h2>
<p>Darklang and F# are all influenced by OCaml. Though Darklang is currently a
subset of these languages, Darklang will continue to grow some more of their
features. We&#x27;ll discuss the similarities and differences as we go through
language features.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a href="#types" class="hash-link" aria-label="Direct link to Types" title="Direct link to Types">​</a></h3>
<p>F# is a strongly typed-languages. Darklang aspires to be, but it doesn&#x27;t have a
type-checker yet. This shows the biggest difference in between working in these
languages, that the compiler will refuse to compile if the types are wrong.</p>
<p>F# has type-inference, which means that the compiler will try and figure out
what the types are. Usually type errors actually contain useful information, but
they need to be read very carefully to find it.</p>
<p>We&#x27;ve found the best way to debug incorrect types is to add type annotations to
everything. We add them to all functions (we didn&#x27;t always do this, but we do
now, but we are now), including all parameters and return types (see
<a href="#functions">example</a> below).</p>
<p>In F#, you can actually add types in many places where they aren&#x27;t required,
such as variable definitions:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let y = 6.7</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let (x : int) = 6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">x + 5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>x</code> here, despite being a normal variable definition, has a type signature. F#
allows this in many places, and it&#x27;s useful for tracking down these errors.</p>
<p>We&#x27;ll discuss declaring types below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h3>
<p>Functions in F# are defined in the outer scope. Type signatures are optional but
we always use them:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let myFunction (arg1 : int) (arg2 : string) : string =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if arg1 &lt; (String.toInt arg2)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  then &quot;just return a string&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  else arg2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here, <code>myFunction</code> has two arguments, <code>arg1</code> and <code>arg2</code>, which are an <code>int</code> and
<code>string</code> respectively. It returns a <code>string</code>.</p>
<p>Like in Darklang, the body of a function is just an expression, and it
automatically returns the result of that expression.</p>
<p>(see <a href="#advanced-functions">below</a> for more details on functions in F#)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standard-library">Standard library<a href="#standard-library" class="hash-link" aria-label="Direct link to Standard library" title="Direct link to Standard library">​</a></h3>
<p>Most of the code in Darklang uses
<a href="https://github.com/darklang/tablecloth" target="_blank" rel="noopener noreferrer">Tablecloth</a>.</p>
<p>Note: for implementing the standard libraries, we do not use Tablecloth as it is
still pretty new and may be in flux. Instead, we try to make sure that we use
libraries from <code>.NET</code>, FSharp.Core, or if necessary, the FSharpPlus library.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="int">Int<a href="#int" class="hash-link" aria-label="Direct link to Int" title="Direct link to Int">​</a></h3>
<p>An <code>int</code> is the same in Darklang and F#, same syntax, same meaning. Note that
ints are 32-bit in F#, and 64-bit in Darklang.</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let x = 5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">x + 6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="float">Float<a href="#float" class="hash-link" aria-label="Direct link to Float" title="Direct link to Float">​</a></h3>
<p>A <code>float</code> is the same in Darklang and F#, both of them are 64-bit floating point
numbers.</p>
<p>To convert from floats to ints use <code>Float.toInt</code>, or <code>Float.round</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bool">Bool<a href="#bool" class="hash-link" aria-label="Direct link to Bool" title="Direct link to Bool">​</a></h3>
<p>Like in Darklang, <code>bool</code>s in F# are either <code>true</code> or <code>false</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="string">String<a href="#string" class="hash-link" aria-label="Direct link to String" title="Direct link to String">​</a></h3>
<p>Strings are Unicode in Darklang and F#. While you&#x27;re unlikely to hit differences
in practice, they do actually use a different in-memory representation, with
Darklang using UTF-8, and F# using .NET&#x27;s UTF-16.</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let myString = &quot;some string, escaping is allowed\nwhich dark doesn&#x27;t support yet&quot; in</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">myString</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="string-interpolation">String Interpolation<a href="#string-interpolation" class="hash-link" aria-label="Direct link to String Interpolation" title="Direct link to String Interpolation">​</a></h3>
<p>Darklang and F# support string interpolation. In F#:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let x = 6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let y = 7.8</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let myString = $&quot;some string with x: {x} and also {y}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="list">List<a href="#list" class="hash-link" aria-label="Direct link to List" title="Direct link to List">​</a></h3>
<p>Lists in Darklang and F# are almost the same. In F#, lists use <code>;</code> as
separators, like so:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[1; 2; 3; 4]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>(However, F# allows separators to be omitted which the list elements are lined
up vertically, as it uses indentation as the separator).</p>
<p>While Darklang technically allows you to create lists that have different types
in them (which you should not do), F# emphatically does not.</p>
<p>To type check a list in F#, you use <code>List&lt;int&gt;</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="records">Records<a href="#records" class="hash-link" aria-label="Direct link to Records" title="Direct link to Records">​</a></h3>
<p>Records are mostly used as objects are in most languages. Like Darklang, they
only have fields, not methods, and you use functions to manipulate them.</p>
<p>F# uses a familiar syntax, but with <code>=</code> instead of <code>:</code>. It also allows you tes
use indentation instead of separators:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  field1 = 56</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  field2 = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  field3 = &quot;asd&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that F# uses <code>=</code> to connect a field and a value, and <code>;</code> as row separator.
The types of the fields do not have to be declared.</p>
<p>Records are immutable, like almost everything in F#, and are updated using an
unusual syntax:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let x = { field1 = 56; field2 = true }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let updatedX = { x with field1 = 57 }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">doSomethingWith updatedX</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that records in Darklang are really dictionaries, which is why you update
them with <code>Dict::set</code>. We&#x27;re trying to figure out how to split records and
dictionaries apart better in Darklang, after which they will be more like F#.</p>
<p>Type definitions for records look like this in F#:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Person =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name : string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ; age : int</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="let">Let<a href="#let" class="hash-link" aria-label="Direct link to Let" title="Direct link to Let">​</a></h3>
<p><code>let</code>s in F# are the same as in Darklang:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let x = 45</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">x + 23</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>let</code> also allow destructing in F#, although we don&#x27;t currently use that very
often.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="if">If<a href="#if" class="hash-link" aria-label="Direct link to If" title="Direct link to If">​</a></h3>
<p><code>if</code> statements in F# are extremely similar to Darklang, including that they
only allow <code>bool</code>s as the condition, and in their syntax.</p>
<p>In F#:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">if hasAccess user</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">then &quot;Welcome!&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">else &quot;Access denied&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="operators">Operators<a href="#operators" class="hash-link" aria-label="Direct link to Operators" title="Direct link to Operators">​</a></h3>
<p>F# has some unusual operators. Most importantly, the equality operator is <code>=</code>
(that&#x27;s just one equals sign), whereas in most languages it&#x27;s <code>==</code> (including
Darklang). <code>=</code> is very strict equality, equivalent to <code>===</code> in languages that
have that, such as JS.</p>
<p>F# also has a <code>==</code> operator, but you should never use it.</p>
<p>F# use <code>&lt;&gt;</code> for inequality (<code>!=</code> in Darklang).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="match">Match<a href="#match" class="hash-link" aria-label="Direct link to Match" title="Direct link to Match">​</a></h3>
<p>Darklang has a <code>match</code> statement that is very similar to F#, with slightly
different syntax. In Darklang you write:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">match myValue</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Some x -&gt; 5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  _ -&gt; 6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>while in F# you write</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">match myValue with</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Some x -&gt; 5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| _ -&gt; 6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice the <code>with</code> keyword, and starting the patterns with <code>|</code>.</p>
<p>F# also support more powerful <code>match</code>es, for example multiple patterns can match
a single branch:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">match myValue with</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 4 | 5 | 6 -&gt; &quot;between 4 and 6&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| _ -&gt; &quot;not between 4 and 6&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>F# also supports the <code>when</code> clause:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">match myValue with</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Some myInt when myInt &gt;= 4 &amp;&amp; myInt &lt;= 6 -&gt; &quot;between 4 and 6&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| _ -&gt; &quot;not between 4 and 6&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="variants">Variants<a href="#variants" class="hash-link" aria-label="Direct link to Variants" title="Direct link to Variants">​</a></h3>
<p>Darklang has a handful of enums for <code>Option</code> and <code>Result</code> types: <code>Just</code>,
<code>Nothing</code>, <code>Ok</code> and <code>Error</code>. In the future we will expand this to allow
user-defined types as well.</p>
<p>F# supports the <code>Option</code> and <code>Result</code> types and we use them a lot. However, the
constructors for Option are named differently; both languages use: <code>Some</code> and
<code>None</code> instead of <code>Just</code> and <code>Nothing</code>.</p>
<p>These enums are typically called &quot;variants&quot;. We use them frequently, especially
to represent expressions. For example in <code>FluidExpression.fs</code>:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Expr =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EInteger of id * int64</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EBool of id * bool</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EString of id * string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EFloat of id * string * string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | ENull of id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EBlank of id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | ELet of id * string * Expr * Expr</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EIf of id * Expr * Expr * Expr</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EBinOp of id * string * Expr * Expr * sendToRail</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | ELambda of id * List&lt;(analysisID * string)&gt; * Expr</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EFieldAccess of id * Expr * string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EVariable of id * string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EFnCall of id * string * List&lt;Expr&gt; * sendToRail</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EList of id * List&lt;Expr&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | ERecord of id * (string * Expr) list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EPipe of id * List&lt;Expr&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EConstructor of id * string * List&lt;Expr&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EMatch of id * Expr * List&lt;(MatchPattern * Expr)&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | EPipeTarget of id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let expr = EInteger (id, &quot;test&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To get values from them, you pattern match:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">match expr with</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| EInteger (_, str) -&gt; str</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| _ -&gt; &quot;not an int&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lambdas">Lambdas<a href="#lambdas" class="hash-link" aria-label="Direct link to Lambdas" title="Direct link to Lambdas">​</a></h3>
<p>F# supports lambdas and we use them frequently. They have a different syntax to
Darklang, F# uses:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|&gt; List.map (fun elem -&gt; elem + 2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pipes">Pipes<a href="#pipes" class="hash-link" aria-label="Direct link to Pipes" title="Direct link to Pipes">​</a></h3>
<p>Both languages have pipes which are the same as in Darklang. In Darklang, the
passed argument goes into the first position. That is not true F#, where it goes
into the last position. As a result, we tend to put the &quot;subject&quot; of the
function in the pipeable position (first in Darklang, last in F#).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dictionaries">Dictionaries<a href="#dictionaries" class="hash-link" aria-label="Direct link to Dictionaries" title="Direct link to Dictionaries">​</a></h3>
<p>Dictionaries (hash-maps, etc) are called <code>Map</code> in F#.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unit">Unit<a href="#unit" class="hash-link" aria-label="Direct link to Unit" title="Direct link to Unit">​</a></h3>
<p>F# and Darklang have a <code>unit</code> type, whose only member is <code>()</code>. That&#x27;s an actual
value, for example, all this is valid code:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let falseVar = () != () in</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It&#x27;s typically used to pass to a function which is impure but doesn&#x27;t have any
meaningful arguments, such as <code>gid ()</code> (which generates IDs).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-handling">Error handling<a href="#error-handling" class="hash-link" aria-label="Direct link to Error handling" title="Direct link to Error handling">​</a></h3>
<p>Typically we use <code>Result</code> or <code>Option</code>s for error handling. You&#x27;ll very commonly
see something like</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let isRailable (m : model) (name : string) =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  m.functions</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  |&gt; Functions.find name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  |&gt; Option.map (fun fn -&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         fn.fnReturnTipe = TOption || fn.fnReturnTipe = TResult)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  |&gt; Option.withDefault false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To find out if a function goes on the error rail, we search for a function,
which returns an Option. We then use a <code>map</code> to operate on the option, and
finally choose a default in case the Option returned <code>None</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="exceptions">Exceptions<a href="#exceptions" class="hash-link" aria-label="Direct link to Exceptions" title="Direct link to Exceptions">​</a></h4>
<p>F# has exceptions - thought we&#x27;d like to use them less.</p>
<p>Unfortunately, it&#x27;s hard to tell when an exception could be thrown.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="imperative-programming">Imperative programming<a href="#imperative-programming" class="hash-link" aria-label="Direct link to Imperative programming" title="Direct link to Imperative programming">​</a></h3>
<p>F# supports imperative programming which Darklang does not support yet.</p>
<p>F# has mutable values that it prefers to refs (it has refs, but they&#x27;re
deprecated). Mutable values are used like so:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let mutable myString = &quot;old value&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">myString &lt;- &quot;new value&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">print(myString)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="asynctasks">Async/Tasks<a href="#asynctasks" class="hash-link" aria-label="Direct link to Async/Tasks" title="Direct link to Async/Tasks">​</a></h3>
<p>For functions that perform IO, you&#x27;ll need to use the <code>uply</code> or <code>task</code>
&quot;computation expression&quot;. A &quot;computation expression&quot; is a special F# language
feature for writing abstractions with a nice syntax. The <code>uply</code> CE allows using
a specialized asynchronous structure called Ply (which is extremely similar to a
.Net Task) easily, and can best be illustrated with an example:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  (function</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | state, [ DObj value; DStr key; DDB dbname ] -&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      uply {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let db = state.dbs.[dbname]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let! _id = UserDB.set state true db key value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return DObj value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | _ -&gt; incorrectArgs ())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Let&#x27;s break this down line by line:</p>
<ul>
<li><code>uply {</code>: this creates the CE, whose return value will be a <code>Ply&lt;&#x27;any&gt;</code>.</li>
<li><code>let db = state.dbs.[dbname]</code> - this is just regular F# code</li>
<li><code>let! _id = UserDB.set state true db key value</code> - the special thing here is
the <code>let!</code> - this line calls <code>UserDB.set</code>, a function which returns a <code>Ply</code>,
and unwraps the <code>Ply</code>. This means that <code>_id</code> can be treated as a normal value
for the rest of this <code>taskv</code>.</li>
<li><code>return DObj value</code> - return takes an ordinary value and turns it into a
<code>Ply</code>, in this case a <code>Ply&lt;Dval&gt;</code>.</li>
</ul>
<p>Why do we go through all this trouble? Because this is an async runtime, and
<code>let!</code> and <code>return</code> are the enablers of the asynchronicity. A <code>Ply</code> is a
promise, and <code>let!</code> waits for the promise and then continues (running other code
while the IO is still pending). This is the exact same as the <code>async</code> keyword in
JS, Rust, C# or Python.</p>
<p>Note that while we primarily use <code>Ply</code> and <code>uply</code> inside the Interpreter, most
of our other async code use <code>Task</code> and <code>task</code>. These are interchangeable except
that Tasks are a little slower.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-functions">Advanced functions<a href="#advanced-functions" class="hash-link" aria-label="Direct link to Advanced functions" title="Direct link to Advanced functions">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="partial-application--currying">Partial application / currying<a href="#partial-application--currying" class="hash-link" aria-label="Direct link to Partial application / currying" title="Direct link to Partial application / currying">​</a></h4>
<p>Occasionally you&#x27;ll see a function called with fewer arguments than it has
parameters:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let myFunction (param1: int) (param2 : string) =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...body...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let myOtherFunction = myFunction 6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is called &quot;partial application&quot;, in that the function is only partially
called (this is often called <em>Currying</em> in the functional language community).
This just means that some parameters are filled in, and you now have a function
which can be called with the remaining parameters:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let () =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  myOtherfunction &quot;final argument&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is the same as if it were defined as:</p>
<div class="language-fsharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fsharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let myOtherFunction (param : string) =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  myFunction 6 param</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="darklangs-codebase-history">Darklang&#x27;s codebase history<a href="#darklangs-codebase-history" class="hash-link" aria-label="Direct link to Darklang&#x27;s codebase history" title="Direct link to Darklang&#x27;s codebase history">​</a></h2>
<p>Darklang&#x27;s backend was originally written in OCaml, and then ported to F# in
2021/2022. A lot of code is written the way it is because that made sense in
OCaml, especially code with the comment <code>// CLEANUP</code> in it.</p>
<p>Darklang&#x27;s frontend was originally written in Elm, before being ported to
ReScript. It was removed in 2023.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/darklang/docs/edit/main/docs-classic/contributing/fsharp-for-dark-developers.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/contributing/adding-a-refactoring"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Adding a refactoring</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/contributing/general-concepts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">General concepts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#some-simple-f-code" class="table-of-contents__link toc-highlight">Some simple F# code</a></li><li><a href="#darklang-vs-f" class="table-of-contents__link toc-highlight">Darklang vs F#</a><ul><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a></li><li><a href="#standard-library" class="table-of-contents__link toc-highlight">Standard library</a></li><li><a href="#int" class="table-of-contents__link toc-highlight">Int</a></li><li><a href="#float" class="table-of-contents__link toc-highlight">Float</a></li><li><a href="#bool" class="table-of-contents__link toc-highlight">Bool</a></li><li><a href="#string" class="table-of-contents__link toc-highlight">String</a></li><li><a href="#string-interpolation" class="table-of-contents__link toc-highlight">String Interpolation</a></li><li><a href="#list" class="table-of-contents__link toc-highlight">List</a></li><li><a href="#records" class="table-of-contents__link toc-highlight">Records</a></li><li><a href="#let" class="table-of-contents__link toc-highlight">Let</a></li><li><a href="#if" class="table-of-contents__link toc-highlight">If</a></li><li><a href="#operators" class="table-of-contents__link toc-highlight">Operators</a></li><li><a href="#match" class="table-of-contents__link toc-highlight">Match</a></li><li><a href="#variants" class="table-of-contents__link toc-highlight">Variants</a></li><li><a href="#lambdas" class="table-of-contents__link toc-highlight">Lambdas</a></li><li><a href="#pipes" class="table-of-contents__link toc-highlight">Pipes</a></li><li><a href="#dictionaries" class="table-of-contents__link toc-highlight">Dictionaries</a></li><li><a href="#unit" class="table-of-contents__link toc-highlight">Unit</a></li><li><a href="#error-handling" class="table-of-contents__link toc-highlight">Error handling</a></li><li><a href="#imperative-programming" class="table-of-contents__link toc-highlight">Imperative programming</a></li><li><a href="#asynctasks" class="table-of-contents__link toc-highlight">Async/Tasks</a></li><li><a href="#advanced-functions" class="table-of-contents__link toc-highlight">Advanced functions</a></li></ul></li><li><a href="#darklangs-codebase-history" class="table-of-contents__link toc-highlight">Darklang&#39;s codebase history</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learning</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://darklang.com/launch/demo-video" target="_blank" rel="noopener noreferrer" class="footer__link-item">Demo Video</a></li><li class="footer__item"><a href="https://youtube.com/c/Darklang/videos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorial Videos</a></li><li class="footer__item"><a href="https://darklang.com/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/tutorials/first-dark-application">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/category/walk-throughs">Walk-throughs</a></li></ul></div><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://darklang.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://blog.darklang.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://darklang.com/discord-invite" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Discord</a></li><li class="footer__item"><a href="https://github.com/darklang/dark" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dark Repo</a></li><li class="footer__item"><a href="https://github.com/darklang/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs Repo</a></li><li class="footer__item"><a class="footer__link-item" href="/contributing/getting-started">Contributor Docs</a></li><li class="footer__item"><a href="https://darklang.com/code-of-conduct" target="_blank" rel="noopener noreferrer" class="footer__link-item">Code of Conduct</a></li></ul></div><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://darklang.com/login" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sign in</a></li><li class="footer__item"><a href="https://darklang.com/signup" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sign up</a></li><li class="footer__item"><a href="https://darklang.com/desktop-client" target="_blank" rel="noopener noreferrer" class="footer__link-item">Desktop Client</a></li><li class="footer__item"><a href="https://darklang.com/mailing-list" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">Changelog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Dark Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>