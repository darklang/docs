<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159199190-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Dark Documentation" href="/opensearch.xml">
<link rel="preconnect" href="https://cdn.heapanalytics.com">
<link rel="dns-prefetch" href="https://cdn.heapanalytics.com">
<script>window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])},heap.load(477722926)</script>
<link rel="preconnect" href="https://cdn.heysavvy.com">
<link rel="dns-prefetch" href="https://cdn.heysavvy.com"><title data-react-helmet="true">Walk-through: Fetch and update an Airtable | Dark Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://docs.darklang.com/img/favicon.ico"><meta data-react-helmet="true" name="twitter:image" content="https://docs.darklang.com/img/favicon.ico"><meta data-react-helmet="true" property="og:url" content="https://docs.darklang.com/walk-throughs/airtable"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Walk-through: Fetch and update an Airtable | Dark Documentation"><meta data-react-helmet="true" name="description" content="This guide will walk you through how you can use Airtable‚Äôs API to add or update"><meta data-react-helmet="true" property="og:description" content="This guide will walk you through how you can use Airtable‚Äôs API to add or update"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.darklang.com/walk-throughs/airtable"><link data-react-helmet="true" rel="alternate" href="https://docs.darklang.com/walk-throughs/airtable" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.darklang.com/walk-throughs/airtable" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://QFOZBC0VVL-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.20cdfa30.css">
<link rel="preload" href="/assets/js/runtime~main.ee7d72bb.js" as="script">
<link rel="preload" href="/assets/js/main.89f09fce.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://darklang.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/favicon.ico" alt="Dark logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/favicon.ico" alt="Dark logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Dark</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/introduction">Documentation</a><a class="navbar__item navbar__link" href="/tutorials/first-dark-application">Tutorial</a><a class="navbar__item navbar__link" href="/contributing/getting-started">Contributing</a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">üåú</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">üåû</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/introduction">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/category/tutorial">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_VCh3" aria-current="page" href="/category/walk-throughs">Walk-throughs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Walk-throughs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/walk-throughs/react-app">React: Build a backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/walk-throughs/slack-app">Slack: send and receive messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/walk-throughs/external-db">Using an External DB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/walk-throughs/slack-channel-check">Slack: check for new channels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/walk-throughs/slack-asana">Asana: create tasks and projects from Slack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/walk-throughs/slack-trello">Trello: Create a new card from Slack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/walk-throughs/twilio-app">Twilio: send and receive texts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/walk-throughs/ifttt-events">IFTTT: trigger an event</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/walk-throughs/airtable">Airtable: fetch and update</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/walk-throughs/freshdesk">Freshdesk: Fetch and update tickets</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/category/how-to">How-to Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/category/discussion">Discussion</a><button aria-label="Toggle the collapsible sidebar category &#x27;Discussion&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/category/reference">Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Walk-through: Fetch and update an Airtable</h1></header><p>This guide will walk you through how you can use Airtable‚Äôs API to add or update
information in Airtable. An Airtable sample canvas is available
<a href="https://darklang.com/a/sample-airtable" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-you-need">What You Need<a class="hash-link" href="#what-you-need" title="Direct link to heading">‚Äã</a></h2><ul><li>An Airtable account with a Base and table(s) already created. You will likely
want to plan what columns you will want to have in your Airtable ahead of
time.</li><li>Access to the <a href="https://airtable.com/api" target="_blank" rel="noopener noreferrer">Airtable API documentation</a>.</li><li>Access to your <a href="https://airtable.com/account" target="_blank" rel="noopener noreferrer">Airtable API key</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="sending-information-from-airtable-to-dark">Sending Information From Airtable to Dark<a class="hash-link" href="#sending-information-from-airtable-to-dark" title="Direct link to heading">‚Äã</a></h2><ul><li>Create a background worker to send data to Airtable.</li><li>Add your API key, the Airtable API, and the Airtable table you‚Äôre going to
use. An Airtable table looks something like this:
&quot;appYPi96qgCwabzfE/Airtable%20Sample&quot;</li><li>We‚Äôll access the data over Airtable‚Äôs JSON API. In Dark, we make HTTP calls
using <code>HttpClient::get</code>.<ul><li>Headers in Dark are passed in a dict, but we have convenience functions for
them, like <code>HttpClient::bearerToken</code> and <code>HttpClient::jsonContentType</code>. You
can inspect the headers by clicking on <code>header</code> to see it‚Äôs live value.</li><li>To test out the API call, press the Play button.</li></ul></li><li>If you only want one field, like the Name field, you will want to add ‚ÄúRecord
Type‚Äù to your table. To get the exact string for this, reference the Retrieve
a Record section of your
<a href="https://airtable.com/api" target="_blank" rel="noopener noreferrer">Airtable API documentation</a>.</li></ul><p><img alt="airtable/image5.png" src="/assets/images/image5-3ffb62eb1778cdd425ad31c21fc1c0f3.png" width="954" height="258"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="putting-information-from-airtable-into-a-dark-datastore">Putting Information From Airtable into a Dark Datastore<a class="hash-link" href="#putting-information-from-airtable-into-a-dark-datastore" title="Direct link to heading">‚Äã</a></h2><ol><li>Create a Dark datastore and populate it with the fields you need.</li></ol><p><img alt="airtable/image1.png" src="/assets/images/image1-a475adfa17c9333df8f1dcf7c8bc5d2a.png" width="762" height="252"></p><ol start="2"><li>Next iterate through the results - held in <code>allData.body.records</code>, and add
them to the DB using <code>DB::set</code>.</li></ol><p><img alt="airtable/image4.png" src="/assets/images/image4-16028584df8c42dfad72dddc10bf86d6.png" width="958" height="628"></p><ol start="3"><li>Click the play button - your datastore will update.</li></ol><p><img alt="airtable/image2.png" src="/assets/images/image2-3cba18bd76e7e67e22079e110a4b6fab.png" width="1958" height="374"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="sending-information-from-dark-to-airtable">Sending Information From Dark to Airtable<a class="hash-link" href="#sending-information-from-dark-to-airtable" title="Direct link to heading">‚Äã</a></h2><ul><li>Create a background worker to send data to Airtable.</li><li>Add your API key, the Airtable API, and the Airtable table you‚Äôre going to
use. An Airtable table looks something like this:
appYPi96qgCwabzfE/Airtable%20Sample</li><li>We‚Äôll access the data over Airtable‚Äôs JSON API. In Dark, we make HTTP calls
using <code>HttpClient::get</code>.<ul><li>Headers in Dark are passed in a dict, but we have convenience functions for
them, like <code>HttpClient::bearerToken</code> and <code>HttpClient::jsonContentType</code>. You
can inspect the headers by clicking on ‚Äòheader‚Äô to see it‚Äôs live value.</li><li>To test out the API call, press the Play button.</li></ul></li><li>Create your <code>HttpClient::post</code> call. Note that to add a new entry, you will
need to format your data using <code>records</code> and <code>fields</code>. You can click the Play
button next to post to manually populate your Airtable to check if its
working. Here, I‚Äôve added one entry, but you can replace the strings with
variables to add data however you would like.</li></ul><p><img alt="airtable/image6.png" src="/assets/images/image6-adb18e54caf241e7891f990ba3f74c2d.png" width="1058" height="660"></p><p><img alt="airtable/image7.png" src="/assets/images/image7-9a1830cef1519afdd777df2157d7069d.png" width="1218" height="420"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">‚Äã</a></h2><ul><li>Field/column names in Airtable are case sensitive, so make sure your cases
match everywhere.</li><li>Airtable will send over completely empty entries, so if it looks like you‚Äôre
getting too much data, verify that you don‚Äôt have an extra row in your table,
like this one:</li></ul><p><img alt="airtable/image3.png" src="/assets/images/image3-4faf1975c0ed82ecc80483ef0b3f801b.png" width="862" height="486"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/darklang/docs/edit/main/docs/walk-throughs/airtable.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/walk-throughs/ifttt-events"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">IFTTT: trigger an event</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/walk-throughs/freshdesk"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Freshdesk: Fetch and update tickets</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-you-need" class="table-of-contents__link toc-highlight">What You Need</a></li><li><a href="#sending-information-from-airtable-to-dark" class="table-of-contents__link toc-highlight">Sending Information From Airtable to Dark</a></li><li><a href="#putting-information-from-airtable-into-a-dark-datastore" class="table-of-contents__link toc-highlight">Putting Information From Airtable into a Dark Datastore</a></li><li><a href="#sending-information-from-dark-to-airtable" class="table-of-contents__link toc-highlight">Sending Information From Dark to Airtable</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learning</div><ul class="footer__items"><li class="footer__item"><a href="https://darklang.com/launch/demo-video" target="_blank" rel="noopener noreferrer" class="footer__link-item">Demo Video</a></li><li class="footer__item"><a href="https://youtube.com/c/Darklang/videos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorial Videos</a></li><li class="footer__item"><a href="https://darklang.com/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs</a></li><li class="footer__item"><a href="https://darklang.com/docs/tutorials" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials &amp; Samples</a></li><li class="footer__item"><a href="https://darklang.com/docs/slack-apps" target="_blank" rel="noopener noreferrer" class="footer__link-item">Building Slack Apps</a></li></ul></div><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items"><li class="footer__item"><a href="https://darklang.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://blog.darklang.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://darklang.com/slack-invite" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Slack</a></li><li class="footer__item"><a href="https://github.com/darklang/dark" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dark Repo</a></li><li class="footer__item"><a href="https://github.com/darklang/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs Repo</a></li><li class="footer__item"><a class="footer__link-item" href="/contributing/getting-started">Contributor Docs</a></li><li class="footer__item"><a href="https://darklang.com/code-of-conduct" target="_blank" rel="noopener noreferrer" class="footer__link-item">Code of Conduct</a></li></ul></div><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items"><li class="footer__item"><a href="https://darklang.com/login" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sign in</a></li><li class="footer__item"><a href="https://darklang.com/signup" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sign up</a></li><li class="footer__item"><a href="https://darklang.com/desktop-client" target="_blank" rel="noopener noreferrer" class="footer__link-item">Desktop Client</a></li><li class="footer__item"><a href="https://darklang.com/mailing-list" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Dark Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ee7d72bb.js"></script>
<script src="/assets/js/main.89f09fce.js"></script>
<script async="true" defer="true" src="https://cdn.heysavvy.com/wc/savvy.min.js"></script>
        <savvy-smart-form id="6HBmUjmI12nCuopyvB0B"></savvy-smart-form></body>
</html>