"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7406],{74056:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var n=t(85893),s=t(11151);const i={title:"Tutorial: Handle error messages with the Error Rail",sidebar_label:"Handle error messages with the Error Rail",id:"handle-error-errorrail"},a=void 0,o={id:"tutorials/handle-error-errorrail",title:"Tutorial: Handle error messages with the Error Rail",description:"Note: This is a self-contained tutorial and not part of the previous set.",source:"@site/docs-classic/tutorials/handle-error-errorrail.md",sourceDirName:"tutorials",slug:"/tutorials/handle-error-errorrail",permalink:"/tutorials/handle-error-errorrail",draft:!1,unlisted:!1,editUrl:"https://github.com/darklang/docs/edit/main/docs-classic/tutorials/handle-error-errorrail.md",tags:[],version:"current",frontMatter:{title:"Tutorial: Handle error messages with the Error Rail",sidebar_label:"Handle error messages with the Error Rail",id:"handle-error-errorrail"},sidebar:"docs",previous:{title:"Complete your first application",permalink:"/tutorials/complete-first-application"},next:{title:"Next steps",permalink:"/tutorials/next-steps"}},c={},l=[];function d(e){const r={a:"a",code:"code",em:"em",img:"img",li:"li",ol:"ol",p:"p",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:(0,n.jsx)(r.em,{children:"Note: This is a self-contained tutorial and not part of the previous set."})}),"\n",(0,n.jsxs)(r.p,{children:["In this tutorial, we will be showing you how to use the error rail with\n",(0,n.jsx)(r.code,{children:"HttpClient::get"})," to display clean error messages. We will be using the\n",(0,n.jsx)(r.a,{href:"https://pokeapi.co/",children:"PokeAPI"}),", as it is publicly available and requires no\nspecial authentication."]}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:["Create a new function from the omnibox or sidebar. Call this function\n",(0,n.jsx)(r.code,{children:"pokeSearch"})," and add a Pokemon parameter with type ",(0,n.jsx)(r.code,{children:"String"}),"."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/pokeSearch.png",src:t(57795).Z+"",width:"744",height:"450"})}),"\n",(0,n.jsxs)(r.ol,{start:"2",children:["\n",(0,n.jsxs)(r.li,{children:["Now, use your new function by creating a new REPL named search and calling\nyour ",(0,n.jsx)(r.code,{children:"pokeSearch"})," function with ",(0,n.jsx)(r.code,{children:'"ditto"'})," as the parameter."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/ditto.png",src:t(26703).Z+"",width:"738",height:"156"})}),"\n",(0,n.jsxs)(r.ol,{start:"3",children:["\n",(0,n.jsxs)(r.li,{children:["Return to your function and check your traces - you should see a new one with\n",(0,n.jsx)(r.code,{children:'"ditto".'})]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/dittoTrace.png",src:t(84065).Z+"",width:"1190",height:"332"})}),"\n",(0,n.jsxs)(r.ol,{start:"4",children:["\n",(0,n.jsxs)(r.li,{children:["Create your URL by concatenating ",(0,n.jsx)(r.code,{children:"https://pokeapi.co/api/v2/pokemon/"})," with\nyour parameter."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/url.png",src:t(48955).Z+"",width:"952",height:"358"})}),"\n",(0,n.jsxs)(r.ol,{start:"5",children:["\n",(0,n.jsxs)(r.li,{children:["Write your ",(0,n.jsx)(r.code,{children:"HttpClient::get"})," call."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/data.png",src:t(57766).Z+"",width:"1126",height:"394"})}),"\n",(0,n.jsxs)(r.ol,{start:"6",children:["\n",(0,n.jsxs)(r.li,{children:["Return the results of your ",(0,n.jsx)(r.code,{children:"HttpClient::get"}),". Note the check mark in the\ncircle to the right of your call - this is indicating that your function is\non the Error Rail, and that it isn't returning an error."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/returnData.png",src:t(6734).Z+"",width:"1124",height:"748"})}),"\n",(0,n.jsxs)(r.ol,{start:"7",children:["\n",(0,n.jsxs)(r.li,{children:["Return to your ",(0,n.jsx)(r.code,{children:"search"})," REPL and enter anything other than the name of an\nactual Pokemon. I chose ",(0,n.jsx)(r.code,{children:'"pikawho"'}),". Then, run your REPL again to see the\n",(0,n.jsx)(r.code,{children:"Error"})," trace."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/error.png",src:t(64838).Z+"",width:"742",height:"414"})}),"\n",(0,n.jsxs)(r.ol,{start:"8",children:["\n",(0,n.jsxs)(r.li,{children:["Return to your ",(0,n.jsx)(r.code,{children:"pokeSearch"})," function, and note that the check mark has\nchanged to a red exclamation point, indicating that there is an error."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/errorpoint.png",src:t(61382).Z+"",width:"1120",height:"400"})}),"\n",(0,n.jsxs)(r.ol,{start:"9",children:["\n",(0,n.jsxs)(r.li,{children:["Place your cursor in ",(0,n.jsx)(r.code,{children:"HttpClient::get,"}),"\n",(0,n.jsx)(r.a,{href:"/discussion/structured-editing#command-palette",children:"open the command palette"}),",\nand select ",(0,n.jsx)(r.code,{children:"take-function-off-rail"}),"."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/offrail.png",src:t(78247).Z+"",width:"1118",height:"596"})}),"\n",(0,n.jsxs)(r.ol,{start:"10",children:["\n",(0,n.jsx)(r.li,{children:"Once you do, you'll notice that the Error Rail icon on the right disappears,\nand your return trace will update."}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/errorTrace.png",src:t(58724).Z+"",width:"1046",height:"224"})}),"\n",(0,n.jsxs)(r.ol,{start:"11",children:["\n",(0,n.jsxs)(r.li,{children:["Now, we're going to use a ",(0,n.jsx)(r.code,{children:"match"})," on ",(0,n.jsx)(r.code,{children:"data"})," to return the result we want.\nHere, I've said that if ",(0,n.jsx)(r.code,{children:"data"})," returns an ",(0,n.jsx)(r.code,{children:"Ok"})," we can just return data, and\nif ",(0,n.jsx)(r.code,{children:"data"})," returns an ",(0,n.jsx)(r.code,{children:"Error"})," we will print out a nice error message."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/niceError.png",src:t(2512).Z+"",width:"1042",height:"528"})}),"\n",(0,n.jsxs)(r.ol,{start:"12",children:["\n",(0,n.jsxs)(r.li,{children:["Return to your ",(0,n.jsx)(r.code,{children:"search"})," REPL, and re-run it. You'll see your nicely\nformatted error message."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/replError.png",src:t(63632).Z+"",width:"746",height:"160"})}),"\n",(0,n.jsxs)(r.ol,{start:"13",children:["\n",(0,n.jsxs)(r.li,{children:["Try again with the name of a real Pokemon to confirm that, when there is no\nerror, ",(0,n.jsx)(r.code,{children:"data"})," is returned."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"error-rail/correctName.png",src:t(98772).Z+"",width:"744",height:"362"})}),"\n",(0,n.jsx)(r.p,{children:"Congratulations! You've now successfully taken a function off of the error rail\nto write a custom error message!"})]})}function h(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},98772:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/correctName-e41e5f8ebcf9ec34db2a2b86f96e5cba.png"},57766:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/data-f8189a0e8a270df805407298b2ea2ad6.png"},26703:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/ditto-2d7db1f43109fe2b877cee6c3ad71351.png"},84065:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/dittoTrace-f3e859fe1cda54ae2090c9086a151cb0.png"},64838:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/error-96b0e97c4fb66f7dac93638074886aff.png"},58724:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/errorTrace-63d9b834098f52814844dc95758adcdc.png"},61382:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/errorpoint-30c29e3fa4ce0cfb87581e8f39830233.png"},2512:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/niceError-52f8d4439553a7c8a149f0fdbc3a9e33.png"},78247:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/offrail-6b19f646798673722da593244da63e33.png"},57795:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/pokeSearch-fbd2304786e2c8f75b75d152fd39ece1.png"},63632:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/replError-91ee7d19a0f01c9f96746a876511942f.png"},6734:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/returnData-c35f9832c83ba7743ed0627c61b7ce82.png"},48955:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/url-c10c8212e4b2ff3b1f6504eb9a506e15.png"},11151:(e,r,t)=>{t.d(r,{Z:()=>o,a:()=>a});var n=t(67294);const s={},i=n.createContext(s);function a(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);