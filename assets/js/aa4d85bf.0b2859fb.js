"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8695],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),c=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(r),h=n,m=u["".concat(s,".").concat(h)]||u[h]||d[h]||i;return r?a.createElement(m,o(o({ref:t},p),{},{components:r})):a.createElement(m,o({ref:t},p))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<i;c++)o[c]=r[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},51793:(e,t,r)=>{r.r(t),r.d(t,{frontMatter:()=>l,contentTitle:()=>s,metadata:()=>c,toc:()=>p,default:()=>u});var a=r(87462),n=r(63366),i=(r(67294),r(3905)),o=["components"],l={title:"Tutorial: Handle error messages with the Error Rail",sidebar_label:"Handle error messages with the Error Rail",id:"handle-error-errorrail"},s=void 0,c={unversionedId:"tutorials/handle-error-errorrail",id:"tutorials/handle-error-errorrail",title:"Tutorial: Handle error messages with the Error Rail",description:"Note: This is a self-contained tutorial and not part of the previous set.",source:"@site/docs/tutorials/handle-error-errorrail.md",sourceDirName:"tutorials",slug:"/tutorials/handle-error-errorrail",permalink:"/tutorials/handle-error-errorrail",editUrl:"https://github.com/darklang/docs/edit/main/docs/tutorials/handle-error-errorrail.md",tags:[],version:"current",frontMatter:{title:"Tutorial: Handle error messages with the Error Rail",sidebar_label:"Handle error messages with the Error Rail",id:"handle-error-errorrail"},sidebar:"docs",previous:{title:"Complete your first application",permalink:"/tutorials/complete-first-application"},next:{title:"Next steps",permalink:"/tutorials/next-steps"}},p=[],d={toc:p};function u(e){var t=e.components,l=(0,n.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Note: This is a self-contained tutorial and not part of the previous set.")),(0,i.kt)("p",null,"In this tutorial, we will be showing you how to use the error rail with\n",(0,i.kt)("inlineCode",{parentName:"p"},"HttpClient::get")," to display clean error messages. We will be using the\n",(0,i.kt)("a",{parentName:"p",href:"https://pokeapi.co/"},"PokeAPI"),", as it is publicly available and requires no\nspecial authentication."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Create a new function from the omnibox or sidebar. Call this function\n",(0,i.kt)("inlineCode",{parentName:"li"},"pokeSearch")," and add a Pokemon parameter with type ",(0,i.kt)("inlineCode",{parentName:"li"},"String"),".")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/pokeSearch.png",src:r(6194).Z,width:"744",height:"450"})),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Now, use your new function by creating a new REPL named search and calling\nyour ",(0,i.kt)("inlineCode",{parentName:"li"},"pokeSearch")," function with ",(0,i.kt)("inlineCode",{parentName:"li"},'"ditto"')," as the parameter.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/ditto.png",src:r(46105).Z,width:"738",height:"156"})),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Return to your function and check your traces - you should see a new one with\n",(0,i.kt)("inlineCode",{parentName:"li"},'"ditto".'))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/dittoTrace.png",src:r(5906).Z,width:"1190",height:"332"})),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"Create your URL by concatenating ",(0,i.kt)("inlineCode",{parentName:"li"},"https://pokeapi.co/api/v2/pokemon/")," with\nyour parameter.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/url.png",src:r(3298).Z,width:"952",height:"358"})),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},"Write your ",(0,i.kt)("inlineCode",{parentName:"li"},"HttpClient::get")," call.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/data.png",src:r(41136).Z,width:"1126",height:"394"})),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},"Return the results of your ",(0,i.kt)("inlineCode",{parentName:"li"},"HttpClient::get"),". Note the check mark in the\ncircle to the right of your call - this is indicating that your function is\non the Error Rail, and that it isn't returning an error.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/returnData.png",src:r(64169).Z,width:"1124",height:"748"})),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},"Return to your ",(0,i.kt)("inlineCode",{parentName:"li"},"search")," REPL and enter anything other than the name of an\nactual Pokemon. I chose ",(0,i.kt)("inlineCode",{parentName:"li"},'"pikawho"'),". Then, run your REPL again to see the\n",(0,i.kt)("inlineCode",{parentName:"li"},"Error")," trace.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/error.png",src:r(25235).Z,width:"742",height:"414"})),(0,i.kt)("ol",{start:8},(0,i.kt)("li",{parentName:"ol"},"Return to your ",(0,i.kt)("inlineCode",{parentName:"li"},"pokeSearch")," function, and note that the check mark has\nchanged to a red exclamation point, indicating that there is an error.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/errorpoint.png",src:r(70424).Z,width:"1120",height:"400"})),(0,i.kt)("ol",{start:9},(0,i.kt)("li",{parentName:"ol"},"Place your cursor in ",(0,i.kt)("inlineCode",{parentName:"li"},"HttpClient::get,"),(0,i.kt)("a",{parentName:"li",href:"/discussion/structured-editing#command-palette"},"open the command palette"),",\nand select ",(0,i.kt)("inlineCode",{parentName:"li"},"take-function-off-rail"),".")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/offrail.png",src:r(86578).Z,width:"1118",height:"596"})),(0,i.kt)("ol",{start:10},(0,i.kt)("li",{parentName:"ol"},"Once you do, you'll notice that the Error Rail icon on the right disappears,\nand your return trace will update.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/errorTrace.png",src:r(46843).Z,width:"1046",height:"224"})),(0,i.kt)("ol",{start:11},(0,i.kt)("li",{parentName:"ol"},"Now, we're going to use a ",(0,i.kt)("inlineCode",{parentName:"li"},"match")," on ",(0,i.kt)("inlineCode",{parentName:"li"},"data")," to return the result we want.\nHere, I've said that if ",(0,i.kt)("inlineCode",{parentName:"li"},"data")," returns an ",(0,i.kt)("inlineCode",{parentName:"li"},"Ok")," we can just return data, and\nif ",(0,i.kt)("inlineCode",{parentName:"li"},"data")," returns an ",(0,i.kt)("inlineCode",{parentName:"li"},"Error")," we will print out a nice error message.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/niceError.png",src:r(40702).Z,width:"1042",height:"528"})),(0,i.kt)("ol",{start:12},(0,i.kt)("li",{parentName:"ol"},"Return to your ",(0,i.kt)("inlineCode",{parentName:"li"},"search")," REPL, and re-run it. You'll see your nicely\nformatted error message.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/replError.png",src:r(87858).Z,width:"746",height:"160"})),(0,i.kt)("ol",{start:13},(0,i.kt)("li",{parentName:"ol"},"Try again with the name of a real Pokemon to confirm that, when there is no\nerror, ",(0,i.kt)("inlineCode",{parentName:"li"},"data")," is returned.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"error-rail/correctName.png",src:r(38812).Z,width:"744",height:"362"})),(0,i.kt)("p",null,"Congratulations! You've now successfully taken a function off of the error rail\nto write a custom error message!"))}u.isMDXComponent=!0},38812:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/correctName-e41e5f8ebcf9ec34db2a2b86f96e5cba.png"},41136:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/data-f8189a0e8a270df805407298b2ea2ad6.png"},46105:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/ditto-2d7db1f43109fe2b877cee6c3ad71351.png"},5906:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/dittoTrace-f3e859fe1cda54ae2090c9086a151cb0.png"},25235:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/error-96b0e97c4fb66f7dac93638074886aff.png"},46843:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/errorTrace-63d9b834098f52814844dc95758adcdc.png"},70424:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/errorpoint-30c29e3fa4ce0cfb87581e8f39830233.png"},40702:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/niceError-52f8d4439553a7c8a149f0fdbc3a9e33.png"},86578:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/offrail-6b19f646798673722da593244da63e33.png"},6194:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/pokeSearch-fbd2304786e2c8f75b75d152fd39ece1.png"},87858:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/replError-91ee7d19a0f01c9f96746a876511942f.png"},64169:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/returnData-c35f9832c83ba7743ed0627c61b7ce82.png"},3298:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/url-c10c8212e4b2ff3b1f6504eb9a506e15.png"}}]);